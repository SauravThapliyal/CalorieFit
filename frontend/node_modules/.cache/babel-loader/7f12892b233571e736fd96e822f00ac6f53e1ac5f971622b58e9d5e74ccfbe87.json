{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\OneDrive\\\\Desktop\\\\CalorieFit\\\\CalorieFit\\\\frontend\\\\src\\\\pages\\\\Progress.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Container, Typography, Box, Card, CardContent, Grid, LinearProgress, Chip, Button, Dialog, DialogTitle, DialogContent, DialogActions, TextField, Alert, CircularProgress } from '@mui/material';\nimport { TrendingUp, TrendingDown, Add, LocalFireDepartment, EmojiEvents } from '@mui/icons-material';\nimport { useAuth } from '../contexts/AuthContext';\nimport { weightApi, userProfileApi, dietLogApi, achievementApi } from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Progress = () => {\n  _s();\n  const {\n    user\n  } = useAuth();\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [weightRecords, setWeightRecords] = useState([]);\n  const [userProfile, setUserProfile] = useState(null);\n  const [dailySummary, setDailySummary] = useState(null);\n  const [achievements, setAchievements] = useState([]);\n  const [addWeightOpen, setAddWeightOpen] = useState(false);\n  const [newWeight, setNewWeight] = useState('');\n  useEffect(() => {\n    fetchProgressData();\n  }, []);\n  const fetchProgressData = async () => {\n    setLoading(true);\n    try {\n      const [weights, profile, summary, userAchievements] = await Promise.all([weightApi.getWeightRecords(30), userProfileApi.getProfile(), dietLogApi.getDailySummary(), achievementApi.getUserAchievements()]);\n      setWeightRecords(Array.isArray(weights) ? weights : []);\n      setUserProfile(profile);\n      setDailySummary(summary);\n      setAchievements(Array.isArray(userAchievements) ? userAchievements : []);\n    } catch (err) {\n      console.error('Error fetching progress data:', err);\n      setError('Failed to load progress data');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const formatNumber = (num, decimals = 2) => {\n    if (num === undefined || num === null || isNaN(num)) return '0';\n    return Number(num).toFixed(decimals);\n  };\n  const handleAddWeight = async () => {\n    if (!newWeight) return;\n    try {\n      await weightApi.logWeight({\n        weight: parseFloat(newWeight),\n        loggedAt: new Date().toISOString()\n      });\n      setAddWeightOpen(false);\n      setNewWeight('');\n      fetchProgressData();\n    } catch (err) {\n      console.error('Error adding weight:', err);\n      setError('Failed to add weight record');\n    }\n  };\n  const calculateBMI = (weight, height) => {\n    if (!weight || !height) return 0;\n\n    // Ensure weight is in kg and height is in cm\n    let weightInKg = weight;\n    let heightInCm = height;\n\n    // If height seems to be in meters (less than 3), convert to cm\n    if (heightInCm < 3) {\n      heightInCm = heightInCm * 100;\n    }\n\n    // If height is still unreasonably small or large, return 0\n    if (heightInCm < 50 || heightInCm > 300) return 0;\n\n    // If weight is unreasonably small or large, return 0\n    if (weightInKg < 10 || weightInKg > 500) return 0;\n    return weightInKg / (heightInCm / 100) ** 2;\n  };\n  const getProgressStats = () => {\n    var _weightRecords$, _weightRecords$2, _weightRecords$3, _dailySummary$consume, _dailySummary$goals;\n    const currentWeight = weightRecords.length > 0 ? (_weightRecords$ = weightRecords[0]) === null || _weightRecords$ === void 0 ? void 0 : _weightRecords$.weight : (userProfile === null || userProfile === void 0 ? void 0 : userProfile.weight) || 0;\n    const targetWeight = (userProfile === null || userProfile === void 0 ? void 0 : userProfile.targetWeight) || 0;\n    const height = (userProfile === null || userProfile === void 0 ? void 0 : userProfile.height) || 170;\n    const currentBMI = calculateBMI(currentWeight, height);\n    const targetBMI = calculateBMI(targetWeight, height);\n    return [{\n      title: 'Current Weight',\n      current: currentWeight,\n      target: targetWeight,\n      unit: 'kg',\n      change: weightRecords.length > 1 ? ((_weightRecords$2 = weightRecords[0]) === null || _weightRecords$2 === void 0 ? void 0 : _weightRecords$2.weight) - ((_weightRecords$3 = weightRecords[1]) === null || _weightRecords$3 === void 0 ? void 0 : _weightRecords$3.weight) : 0,\n      icon: currentWeight <= targetWeight ? /*#__PURE__*/_jsxDEV(TrendingDown, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 47\n      }, this) : /*#__PURE__*/_jsxDEV(TrendingUp, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 66\n      }, this),\n      color: currentWeight <= targetWeight ? 'success' : 'warning'\n    }, {\n      title: 'BMI',\n      current: currentBMI,\n      target: targetBMI,\n      unit: '',\n      change: 0,\n      icon: currentBMI <= targetBMI ? /*#__PURE__*/_jsxDEV(TrendingDown, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 41\n      }, this) : /*#__PURE__*/_jsxDEV(TrendingUp, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 60\n      }, this),\n      color: currentBMI <= 25 ? 'success' : 'warning'\n    }, {\n      title: 'Today\\'s Calories',\n      current: (dailySummary === null || dailySummary === void 0 ? void 0 : (_dailySummary$consume = dailySummary.consumed) === null || _dailySummary$consume === void 0 ? void 0 : _dailySummary$consume.calories) || 0,\n      target: (dailySummary === null || dailySummary === void 0 ? void 0 : (_dailySummary$goals = dailySummary.goals) === null || _dailySummary$goals === void 0 ? void 0 : _dailySummary$goals.calories) || 2000,\n      unit: 'kcal',\n      change: 0,\n      icon: /*#__PURE__*/_jsxDEV(LocalFireDepartment, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 15\n      }, this),\n      color: 'primary'\n    }, {\n      title: 'Achievements',\n      current: achievements.length,\n      target: 10,\n      unit: 'badges',\n      change: 0,\n      icon: /*#__PURE__*/_jsxDEV(EmojiEvents, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 15\n      }, this),\n      color: 'warning'\n    }];\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: \"lg\",\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        minHeight: \"400px\",\n        children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }, this);\n  }\n  const progressStats = getProgressStats();\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"lg\",\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        mb: 4\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h4\",\n        component: \"h1\",\n        gutterBottom: true,\n        children: \"Progress Tracker\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body1\",\n        color: \"text.secondary\",\n        children: \"Monitor your fitness journey and celebrate your achievements\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"error\",\n      sx: {\n        mb: 3\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 3,\n      sx: {\n        mb: 4\n      },\n      children: progressStats.map((stat, index) => /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        sm: 6,\n        md: 3,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            children: [/*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                display: 'flex',\n                alignItems: 'center',\n                mb: 2\n              },\n              children: [/*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  color: `${stat.color}.main`,\n                  mr: 1\n                },\n                children: stat.icon\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h6\",\n                component: \"div\",\n                children: [formatNumber(stat.current, stat.unit === 'kg' ? 2 : 0), \" \", stat.unit]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              color: \"text.secondary\",\n              gutterBottom: true,\n              children: stat.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                display: 'flex',\n                alignItems: 'center',\n                gap: 1,\n                mb: 1\n              },\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"caption\",\n                color: \"text.secondary\",\n                children: [\"Target: \", stat.target, \" \", stat.unit]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 19\n              }, this), stat.change !== 0 && /*#__PURE__*/_jsxDEV(Chip, {\n                label: `${stat.change > 0 ? '+' : ''}${formatNumber(stat.change, 2)} ${stat.unit}`,\n                size: \"small\",\n                color: stat.change > 0 ? 'success' : 'error'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(LinearProgress, {\n              variant: \"determinate\",\n              value: Math.min(stat.current / stat.target * 100, 100),\n              color: stat.color\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 13\n        }, this)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        mb: 4,\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h5\",\n        children: \"Weight Progress\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        startIcon: /*#__PURE__*/_jsxDEV(Add, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 22\n        }, this),\n        onClick: () => setAddWeightOpen(true),\n        children: \"Log Weight\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 3,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        md: 6,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              gutterBottom: true,\n              children: \"Recent Weight Records\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 15\n            }, this), weightRecords.length > 0 ? weightRecords.slice(0, 5).map((record, index) => /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                mb: 2,\n                p: 2,\n                bgcolor: 'grey.50',\n                borderRadius: 1\n              },\n              children: /*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  display: 'flex',\n                  justifyContent: 'space-between',\n                  alignItems: 'center'\n                },\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body1\",\n                  fontWeight: \"bold\",\n                  children: [record.weight, \" kg\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 251,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  color: \"text.secondary\",\n                  children: new Date(record.loggedAt).toLocaleDateString()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 254,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 250,\n                columnNumber: 21\n              }, this)\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 19\n            }, this)) : /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              color: \"text.secondary\",\n              sx: {\n                py: 2\n              },\n              children: \"No weight records yet. Start tracking your progress!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        md: 6,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              gutterBottom: true,\n              children: \"Recent Achievements\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 15\n            }, this), achievements.length > 0 ? achievements.slice(0, 3).map((achievement, index) => /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                mb: 2,\n                p: 2,\n                bgcolor: 'warning.light',\n                borderRadius: 1\n              },\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body1\",\n                fontWeight: \"bold\",\n                children: [\"\\uD83C\\uDFC6 \", achievement.title]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 278,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                color: \"text.secondary\",\n                children: achievement.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 21\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 19\n            }, this)) : /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                textAlign: 'center',\n                py: 4\n              },\n              children: [/*#__PURE__*/_jsxDEV(EmojiEvents, {\n                sx: {\n                  fontSize: 48,\n                  color: 'primary.main',\n                  mb: 2\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 288,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body1\",\n                gutterBottom: true,\n                children: \"Start your fitness journey!\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 289,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                color: \"text.secondary\",\n                children: \"Complete workouts and track nutrition to earn achievements\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 292,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: addWeightOpen,\n      onClose: () => setAddWeightOpen(false),\n      maxWidth: \"sm\",\n      fullWidth: true,\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        children: \"Log Weight\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            pt: 1\n          },\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            label: \"Weight (kg)\",\n            type: \"number\",\n            value: newWeight,\n            onChange: e => setNewWeight(e.target.value),\n            fullWidth: true,\n            inputProps: {\n              min: 0,\n              step: 0.1\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => setAddWeightOpen(false),\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleAddWeight,\n          variant: \"contained\",\n          children: \"Log Weight\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 171,\n    columnNumber: 5\n  }, this);\n};\n_s(Progress, \"It8ls28IZU4Asmh+WOOprjxGPiQ=\", false, function () {\n  return [useAuth];\n});\n_c = Progress;\nexport default Progress;\nvar _c;\n$RefreshReg$(_c, \"Progress\");","map":{"version":3,"names":["React","useState","useEffect","Container","Typography","Box","Card","CardContent","Grid","LinearProgress","Chip","Button","Dialog","DialogTitle","DialogContent","DialogActions","TextField","Alert","CircularProgress","TrendingUp","TrendingDown","Add","LocalFireDepartment","EmojiEvents","useAuth","weightApi","userProfileApi","dietLogApi","achievementApi","jsxDEV","_jsxDEV","Progress","_s","user","loading","setLoading","error","setError","weightRecords","setWeightRecords","userProfile","setUserProfile","dailySummary","setDailySummary","achievements","setAchievements","addWeightOpen","setAddWeightOpen","newWeight","setNewWeight","fetchProgressData","weights","profile","summary","userAchievements","Promise","all","getWeightRecords","getProfile","getDailySummary","getUserAchievements","Array","isArray","err","console","formatNumber","num","decimals","undefined","isNaN","Number","toFixed","handleAddWeight","logWeight","weight","parseFloat","loggedAt","Date","toISOString","calculateBMI","height","weightInKg","heightInCm","getProgressStats","_weightRecords$","_weightRecords$2","_weightRecords$3","_dailySummary$consume","_dailySummary$goals","currentWeight","length","targetWeight","currentBMI","targetBMI","title","current","target","unit","change","icon","fileName","_jsxFileName","lineNumber","columnNumber","color","consumed","calories","goals","maxWidth","children","display","justifyContent","alignItems","minHeight","progressStats","sx","mb","variant","component","gutterBottom","severity","container","spacing","map","stat","index","item","xs","sm","md","mr","gap","label","size","value","Math","min","startIcon","onClick","slice","record","p","bgcolor","borderRadius","fontWeight","toLocaleDateString","py","achievement","description","textAlign","fontSize","open","onClose","fullWidth","pt","type","onChange","e","inputProps","step","_c","$RefreshReg$"],"sources":["C:/Users/USER/OneDrive/Desktop/CalorieFit/CalorieFit/frontend/src/pages/Progress.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n  Container,\n  Typography,\n  Box,\n  Card,\n  CardContent,\n  Grid,\n  LinearProgress,\n  Chip,\n  Button,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  TextField,\n  Alert,\n  CircularProgress,\n} from '@mui/material';\nimport {\n  TrendingUp,\n  TrendingDown,\n  FitnessCenter,\n  Add,\n  LocalFireDepartment,\n  EmojiEvents,\n} from '@mui/icons-material';\nimport { useAuth } from '../contexts/AuthContext';\nimport { weightApi, userProfileApi, dietLogApi, achievementApi } from '../services/api';\n\nconst Progress: React.FC = () => {\n  const { user } = useAuth();\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [weightRecords, setWeightRecords] = useState<any[]>([]);\n  const [userProfile, setUserProfile] = useState<any>(null);\n  const [dailySummary, setDailySummary] = useState<any>(null);\n  const [achievements, setAchievements] = useState<any[]>([]);\n  const [addWeightOpen, setAddWeightOpen] = useState(false);\n  const [newWeight, setNewWeight] = useState('');\n\n  useEffect(() => {\n    fetchProgressData();\n  }, []);\n\n  const fetchProgressData = async () => {\n    setLoading(true);\n    try {\n      const [weights, profile, summary, userAchievements] = await Promise.all([\n        weightApi.getWeightRecords(30),\n        userProfileApi.getProfile(),\n        dietLogApi.getDailySummary(),\n        achievementApi.getUserAchievements(),\n      ]);\n\n      setWeightRecords(Array.isArray(weights) ? weights : []);\n      setUserProfile(profile);\n      setDailySummary(summary);\n      setAchievements(Array.isArray(userAchievements) ? userAchievements : []);\n    } catch (err) {\n      console.error('Error fetching progress data:', err);\n      setError('Failed to load progress data');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const formatNumber = (num: number | undefined | null, decimals: number = 2): string => {\n    if (num === undefined || num === null || isNaN(num)) return '0';\n    return Number(num).toFixed(decimals);\n  };\n\n  const handleAddWeight = async () => {\n    if (!newWeight) return;\n\n    try {\n      await weightApi.logWeight({\n        weight: parseFloat(newWeight),\n        loggedAt: new Date().toISOString(),\n      });\n      setAddWeightOpen(false);\n      setNewWeight('');\n      fetchProgressData();\n    } catch (err) {\n      console.error('Error adding weight:', err);\n      setError('Failed to add weight record');\n    }\n  };\n\n  const calculateBMI = (weight: number, height: number) => {\n    if (!weight || !height) return 0;\n\n    // Ensure weight is in kg and height is in cm\n    let weightInKg = weight;\n    let heightInCm = height;\n\n    // If height seems to be in meters (less than 3), convert to cm\n    if (heightInCm < 3) {\n      heightInCm = heightInCm * 100;\n    }\n\n    // If height is still unreasonably small or large, return 0\n    if (heightInCm < 50 || heightInCm > 300) return 0;\n\n    // If weight is unreasonably small or large, return 0\n    if (weightInKg < 10 || weightInKg > 500) return 0;\n\n    return weightInKg / ((heightInCm / 100) ** 2);\n  };\n\n  const getProgressStats = () => {\n    const currentWeight = weightRecords.length > 0 ? weightRecords[0]?.weight : userProfile?.weight || 0;\n    const targetWeight = userProfile?.targetWeight || 0;\n    const height = userProfile?.height || 170;\n    const currentBMI = calculateBMI(currentWeight, height);\n    const targetBMI = calculateBMI(targetWeight, height);\n\n    return [\n      {\n        title: 'Current Weight',\n        current: currentWeight,\n        target: targetWeight,\n        unit: 'kg',\n        change: weightRecords.length > 1 ? (weightRecords[0]?.weight - weightRecords[1]?.weight) : 0,\n        icon: currentWeight <= targetWeight ? <TrendingDown /> : <TrendingUp />,\n        color: currentWeight <= targetWeight ? 'success' : 'warning',\n      },\n      {\n        title: 'BMI',\n        current: currentBMI,\n        target: targetBMI,\n        unit: '',\n        change: 0,\n        icon: currentBMI <= targetBMI ? <TrendingDown /> : <TrendingUp />,\n        color: currentBMI <= 25 ? 'success' : 'warning',\n      },\n      {\n        title: 'Today\\'s Calories',\n        current: dailySummary?.consumed?.calories || 0,\n        target: dailySummary?.goals?.calories || 2000,\n        unit: 'kcal',\n        change: 0,\n        icon: <LocalFireDepartment />,\n        color: 'primary',\n      },\n      {\n        title: 'Achievements',\n        current: achievements.length,\n        target: 10,\n        unit: 'badges',\n        change: 0,\n        icon: <EmojiEvents />,\n        color: 'warning',\n      },\n    ];\n  };\n\n  if (loading) {\n    return (\n      <Container maxWidth=\"lg\">\n        <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" minHeight=\"400px\">\n          <CircularProgress />\n        </Box>\n      </Container>\n    );\n  }\n\n  const progressStats = getProgressStats();\n\n  return (\n    <Container maxWidth=\"lg\">\n      <Box sx={{ mb: 4 }}>\n        <Typography variant=\"h4\" component=\"h1\" gutterBottom>\n          Progress Tracker\n        </Typography>\n        <Typography variant=\"body1\" color=\"text.secondary\">\n          Monitor your fitness journey and celebrate your achievements\n        </Typography>\n      </Box>\n\n      {error && (\n        <Alert severity=\"error\" sx={{ mb: 3 }}>\n          {error}\n        </Alert>\n      )}\n\n      {/* Progress Stats */}\n      <Grid container spacing={3} sx={{ mb: 4 }}>\n        {progressStats.map((stat, index) => (\n          <Grid item xs={12} sm={6} md={3} key={index}>\n            <Card>\n              <CardContent>\n                <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>\n                  <Box sx={{ color: `${stat.color}.main`, mr: 1 }}>\n                    {stat.icon}\n                  </Box>\n                  <Typography variant=\"h6\" component=\"div\">\n                    {formatNumber(stat.current, stat.unit === 'kg' ? 2 : 0)} {stat.unit}\n                  </Typography>\n                </Box>\n                <Typography variant=\"body2\" color=\"text.secondary\" gutterBottom>\n                  {stat.title}\n                </Typography>\n                <Box sx={{ display: 'flex', alignItems: 'center', gap: 1, mb: 1 }}>\n                  <Typography variant=\"caption\" color=\"text.secondary\">\n                    Target: {stat.target} {stat.unit}\n                  </Typography>\n                  {stat.change !== 0 && (\n                    <Chip\n                      label={`${stat.change > 0 ? '+' : ''}${formatNumber(stat.change, 2)} ${stat.unit}`}\n                      size=\"small\"\n                      color={stat.change > 0 ? 'success' : 'error'}\n                    />\n                  )}\n                </Box>\n                <LinearProgress\n                  variant=\"determinate\"\n                  value={Math.min((stat.current / stat.target) * 100, 100)}\n                  color={stat.color as any}\n                />\n              </CardContent>\n            </Card>\n          </Grid>\n        ))}\n      </Grid>\n\n      {/* Add Weight Button */}\n      <Box sx={{ mb: 4, display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n        <Typography variant=\"h5\">Weight Progress</Typography>\n        <Button\n          variant=\"contained\"\n          startIcon={<Add />}\n          onClick={() => setAddWeightOpen(true)}\n        >\n          Log Weight\n        </Button>\n      </Box>\n\n      {/* Weight Records */}\n      <Grid container spacing={3}>\n        <Grid item xs={12} md={6}>\n          <Card>\n            <CardContent>\n              <Typography variant=\"h6\" gutterBottom>\n                Recent Weight Records\n              </Typography>\n              {weightRecords.length > 0 ? (\n                weightRecords.slice(0, 5).map((record, index) => (\n                  <Box key={index} sx={{ mb: 2, p: 2, bgcolor: 'grey.50', borderRadius: 1 }}>\n                    <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n                      <Typography variant=\"body1\" fontWeight=\"bold\">\n                        {record.weight} kg\n                      </Typography>\n                      <Typography variant=\"body2\" color=\"text.secondary\">\n                        {new Date(record.loggedAt).toLocaleDateString()}\n                      </Typography>\n                    </Box>\n                  </Box>\n                ))\n              ) : (\n                <Typography variant=\"body2\" color=\"text.secondary\" sx={{ py: 2 }}>\n                  No weight records yet. Start tracking your progress!\n                </Typography>\n              )}\n            </CardContent>\n          </Card>\n        </Grid>\n\n        <Grid item xs={12} md={6}>\n          <Card>\n            <CardContent>\n              <Typography variant=\"h6\" gutterBottom>\n                Recent Achievements\n              </Typography>\n              {achievements.length > 0 ? (\n                achievements.slice(0, 3).map((achievement, index) => (\n                  <Box key={index} sx={{ mb: 2, p: 2, bgcolor: 'warning.light', borderRadius: 1 }}>\n                    <Typography variant=\"body1\" fontWeight=\"bold\">\n                      üèÜ {achievement.title}\n                    </Typography>\n                    <Typography variant=\"body2\" color=\"text.secondary\">\n                      {achievement.description}\n                    </Typography>\n                  </Box>\n                ))\n              ) : (\n                <Box sx={{ textAlign: 'center', py: 4 }}>\n                  <EmojiEvents sx={{ fontSize: 48, color: 'primary.main', mb: 2 }} />\n                  <Typography variant=\"body1\" gutterBottom>\n                    Start your fitness journey!\n                  </Typography>\n                  <Typography variant=\"body2\" color=\"text.secondary\">\n                    Complete workouts and track nutrition to earn achievements\n                  </Typography>\n                </Box>\n              )}\n            </CardContent>\n          </Card>\n        </Grid>\n      </Grid>\n\n      {/* Add Weight Dialog */}\n      <Dialog open={addWeightOpen} onClose={() => setAddWeightOpen(false)} maxWidth=\"sm\" fullWidth>\n        <DialogTitle>Log Weight</DialogTitle>\n        <DialogContent>\n          <Box sx={{ pt: 1 }}>\n            <TextField\n              label=\"Weight (kg)\"\n              type=\"number\"\n              value={newWeight}\n              onChange={(e) => setNewWeight(e.target.value)}\n              fullWidth\n              inputProps={{ min: 0, step: 0.1 }}\n            />\n          </Box>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => setAddWeightOpen(false)}>Cancel</Button>\n          <Button onClick={handleAddWeight} variant=\"contained\">\n            Log Weight\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Container>\n  );\n};\n\nexport default Progress;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}